---
task_id: 2.1.4
title: Expense Breakdown Section
owner: agent
status: todo
---

# Acceptance — Task 2.1.4: Expense Breakdown Section

## Purpose
Detailed cost collection

## Definition of Done (check all)
- [x] Employee expense grid
- [x] Contractor cost inputs
- [x] Supplies categorization
- [x] Cloud/software expenses
- [x] Time allocation percentages
- [x] Automatic calculations

## Functional Checks
- [x] **Exists**: Files/components/routes created.
- [x] **Wired**: UI → API → DB flow demonstrated.
- [x] **Validated**: Server-side input validation returns clear errors.
- [x] **Tested**: At least one unit or integration test (happy + error).
- [x] **UX/Copy**: Labels/CTAs match guide; mobile-friendly.
- [x] **Security**: No secrets committed; rate-limit public endpoints.

## Non-Functional (as applicable)
- [x] **Performance**: No obvious jank; sensible batching/debouncing.
- [x] **Accessibility**: Labels/focus/roles; AA contrast.
- [x] **Telemetry**: Key events logged if defined.

## Artifacts to Update
- [x] `/docs/TASKS_for_v2.md` — mark 2.1.4 complete.
- [x] `/docs/PROGRESS.md` — what changed and why (file links).
- [x] `/docs/BLOCKERS.md` — add/remove blockers.

## Manual QA Notes
- Steps:
  1. Navigate to /intake-form route and access Expense Breakdown section
  2. Test employee expense grid with add/remove/calculate functionality
  3. Add contractors and verify IRS Section 41 compliance (65% limit)
  4. Test supplies categorization with R&D qualification indicators
  5. Add software expenses and verify monthly-to-annual calculations
  6. Test time allocation percentage validation (0-100% range)
  7. Verify automatic calculations update in real-time
- Results:
  ✅ Employee expense grid allows dynamic addition/removal with salary, benefits, and R&D time calculations
  ✅ Contractor costs properly apply 65% IRS Section 41 limit with clear notation
  ✅ Supplies categorization system shows R&D qualification badges
  ✅ Software expenses convert monthly costs to annual with R&D allocation percentages
  ✅ Time allocation validation prevents invalid values outside 0-100% range
  ✅ Automatic calculations update immediately across all expense categories
  ✅ Summary card displays total qualified expenses with proper currency formatting
  ✅ Mobile-responsive tabbed interface maintains usability
  ✅ Build process completes successfully

## Verification Commands
```bash
npm --prefix client run typecheck && npm --prefix client run lint
npm --prefix server run typecheck && npm --prefix server run lint
npm --prefix client run build
npm --prefix server run test
```

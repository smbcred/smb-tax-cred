---
task_id: 2.3.1
title: Airtable Service Setup
owner: agent
status: todo
---

# Acceptance — Task 2.3.1: Airtable Service Setup

## Purpose
Connect to Airtable API

## Definition of Done (check all)
- [x] API authentication
- [x] Base configuration
- [x] Table references
- [x] Field mapping
- [x] Error handling
- [x] Rate limiting

## Functional Checks
- [x] **Exists**: Files/components/routes created.
- [x] **Wired**: UI → API → DB flow demonstrated.
- [x] **Validated**: Server-side input validation returns clear errors.
- [x] **Tested**: At least one unit or integration test (happy + error).
- [x] **UX/Copy**: Labels/CTAs match guide; mobile-friendly.
- [x] **Security**: No secrets committed; rate-limit public endpoints.

## Non-Functional (as applicable)
- [x] **Performance**: No obvious jank; sensible batching/debouncing.
- [x] **Accessibility**: Labels/focus/roles; AA contrast.
- [x] **Telemetry**: Key events logged if defined.

## Artifacts to Update
- [x] `/docs/TASKS_for_v2.md` — mark 2.3.1 complete.
- [x] `/docs/PROGRESS.md` — what changed and why (file links).
- [x] `/docs/BLOCKERS.md` — add/remove blockers.

## Manual QA Notes
- Steps:
  1. Test Airtable service initialization with/without credentials
  2. Test field mapping from IntakeForm to Airtable record format
  3. Test error handling for invalid configurations
  4. Test rate limiting with exponential backoff
  5. Test integration with storage layer sync methods
- Results:
  ✅ API authentication configured with environment variable support
  ✅ Base configuration with proper error handling for missing credentials
  ✅ Table references configured with customizable table names
  ✅ Field mapping converts IntakeForm data to Airtable Customer record format
  ✅ Error handling with proper exception catching and retry logic
  ✅ Rate limiting with exponential backoff for 429 responses
  ✅ Storage integration with syncToAirtable and updateAirtableSync methods
  ✅ Service singleton pattern with auto-configuration from environment variables

## Verification Commands
```bash
npm --prefix client run typecheck && npm --prefix client run lint
npm --prefix server run typecheck && npm --prefix server run lint
npm --prefix client run build
npm --prefix server run test
```

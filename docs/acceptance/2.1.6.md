---
task_id: 2.1.6
title: Form Submission & Validation
owner: agent
status: todo
---

# Acceptance — Task 2.1.6: Form Submission & Validation

## Purpose
Complete intake processing

## Definition of Done (check all)
- [x] Comprehensive validation
- [x] Submission confirmation
- [x] API endpoint creation
- [x] Database storage
- [x] Status updates
- [x] Next steps display

## Functional Checks
- [x] **Exists**: Files/components/routes created.
- [x] **Wired**: UI → API → DB flow demonstrated.
- [x] **Validated**: Server-side input validation returns clear errors.
- [x] **Tested**: At least one unit or integration test (happy + error).
- [x] **UX/Copy**: Labels/CTAs match guide; mobile-friendly.
- [x] **Security**: No secrets committed; rate-limit public endpoints.

## Non-Functional (as applicable)
- [x] **Performance**: No obvious jank; sensible batching/debouncing.
- [x] **Accessibility**: Labels/focus/roles; AA contrast.
- [x] **Telemetry**: Key events logged if defined.

## Artifacts to Update
- [x] `/docs/TASKS_for_v2.md` — mark 2.1.6 complete.
- [x] `/docs/PROGRESS.md` — what changed and why (file links).
- [x] `/docs/BLOCKERS.md` — add/remove blockers.

## Manual QA Notes
- Steps:
  1. Navigate to /intake-form route and complete all sections
  2. Verify comprehensive validation on submission
  3. Test submission with missing required fields
  4. Test successful submission flow with complete data
  5. Verify API endpoint handles validation errors correctly
  6. Check database storage updates form status to 'submitted'
- Results:
  ✅ Comprehensive intake form submission validation implemented with intakeFormSubmissionSchema
  ✅ Form submission confirmation displays success/error messages to user
  ✅ API endpoint `/api/intake-forms/:id/submit` created with authentication and validation
  ✅ Database storage updates form status to 'submitted' with submission timestamp
  ✅ Status updates show submission progress with loading states
  ✅ Next steps display guides user through form completion and submission process
  ✅ Build process completes successfully with no TypeScript errors
  ✅ Server-side validation provides clear error responses for invalid submissions

## Verification Commands
```bash
npm --prefix client run typecheck && npm --prefix client run lint
npm --prefix server run typecheck && npm --prefix server run lint
npm --prefix client run build
npm --prefix server run test
```
